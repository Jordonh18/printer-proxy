#!/usr/bin/make -f

# Enable hardening flags
export DEB_BUILD_MAINT_OPTIONS = hardening=+all

%:
	dh $@ --with python3

# Skip build step - Python doesn't need compilation
override_dh_auto_build:

# Skip test step if no tests defined
override_dh_auto_test:

# Use custom install file
override_dh_auto_install:

# Don't start service during package installation
# Service is managed by postinst
override_dh_installinit:
	dh_installinit --no-start --no-enable

override_dh_installsystemd:
	dh_installsystemd --no-start --no-enable

# Ensure scripts are executable
override_dh_fixperms:
	dh_fixperms
	chmod 755 debian/printer-proxy/opt/printer-proxy/scripts/*.sh || true
